% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/inherit_from_dependencies.R
\name{inherit_from_dependencies}
\alias{inherit_from_dependencies}
\title{Inherit Assumptions and Caveats from Dependencies}
\usage{
inherit_from_dependencies(df, n = 1, attribute = TRUE)
}
\arguments{
\item{df}{A data frame to which inherited assumptions and caveats will be added.}

\item{n}{Integer specifying how many frames to go back in the call stack.
Default is 1 (immediate parent frame, i.e. the target). Increase to search further up the
call stack.}

\item{attribute}{Logical indicating how to attach the inherited metadata.
If TRUE (default), assumptions and caveats are stored as attributes.
If FALSE, they are added as regular columns to the data frame.}
}
\value{
If \code{attribute = TRUE}, returns the input data frame with "assumptions"
and "caveats" attributes containing semicolon-separated strings of all
inherited metadata. If \code{attribute = FALSE}, returns the data frame with
two new columns: "assumptions" and "caveats".
}
\description{
Automatically inherits assumptions and caveats from all data frame objects
in the parent environment (typically data frames used to create the current one).
This function searches the calling environment for data frames and consolidates
their assumptions and caveats, prefixing each with the source object name.
}
\examples{
# Create source data frames with assumptions
sales_data <- data.frame(revenue = c(100, 200, 300))
sales_data <- add_assumptions(
  sales_data,
  assumptions = "Q1 data only",
  caveats = "Excludes returns"
)

costs_data <- data.frame(cost = c(50, 75, 100))
costs_data <- add_assumptions(
  costs_data,
  assumptions = "Fixed costs excluded"
)

# Create a derived data frame and inherit metadata
profit_data <- data.frame(
  profit = sales_data$revenue - costs_data$cost
)
profit_data <- inherit_from_dependencies(profit_data)

# View inherited assumptions
attr(profit_data, "assumptions")
# "Inherited from 'sales_data': Q1 data only;Inherited from 'costs_data': Fixed costs excluded"

# Alternative: add as columns instead of attributes
profit_data2 <- inherit_from_dependencies(profit_data, attribute = FALSE)
profit_data2$assumptions

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_indicator.R
\name{process_indicator}
\alias{process_indicator}
\title{Process ecological or environmental indicator data}
\usage{
process_indicator(
  data,
  indicator_var_name = NA,
  indicator,
  type = NA,
  units = NA,
  scoring = NA,
  direction = "normal",
  PPTID = NA,
  source = NA,
  project_short_title = NA,
  climate = FALSE,
  design_target = FALSE,
  crs = 4326,
  latitude = "latitude",
  longitude = "longitude",
  year = "year",
  other_nest_variables = NA,
  areas = NA,
  areaID = "NAME_E",
  regionID = "region",
  plot_type = "time-series",
  bin_width = 5,
  plot_lm = TRUE,
  plot_lm_se = TRUE,
  control_polygon = NA,
  climate_expectation = NA,
  indicator_rationale = NA,
  bin_rationale = NA,
  objectives = NA,
  readiness = "Ready",
  scale = "site"
)
}
\arguments{
\item{data}{A data frame or \code{sf} object containing indicator data. Must include
at minimum columns for year, value, and an identifier for spatial location
(e.g., area ID, site, or coordinates).}

\item{indicator}{Character. Indicator name or short description.}

\item{type}{Character. Type of indicator (e.g., "biological", "habitat",
"climate").}

\item{units}{Character. Units of the indicator (e.g., "kg/ha", "\% cover").}

\item{scoring}{Character. Method used to score the indicator. Options include:
\itemize{
\item \code{"desired trend"} – Uses regression to score based on increase,
decrease, or stability.
\item \code{"representation"} – Scores based on \% overlap of feature within
protected areas.
\item \code{"median"} – Uses median value of raster or continuous data, rescaled
to 0–100.
\item \code{"control site comparison"} – Compares trends inside vs. outside
managed areas.
}}

\item{direction}{Character. If \code{"inverse"}, scores are reversed (e.g., lower
values are better).}

\item{areas}{An \code{sf} polygon object defining the areas of interest (e.g.,
conservation areas, regions). Used for spatial joins and reporting.}

\item{areaID}{Character. The name of the column in \code{areas} and \code{data} used to
match records to geographic areas.}

\item{climate_expectation}{Character. Expected effect of climate change on this
indicator (e.g., \code{"increase"}, \code{"decrease"}, \code{"stable"}).}

\item{objectives}{A character string specifying which conservation or
management objectives the indicator informs. Please directly copy and paste
the objective from the objectives.xlsx. (See examples)}

\item{readiness}{a character argument that is either 'Ready', 'Readily Available',
'Not currently collected', 'Conceptual', or 'Unknown'.}

\item{scale}{a character string of either 'site' or 'network'}

\item{rationale}{Character. Rationale for including this indicator (why it
matters for conservation objectives).}

\item{plot}{Logical. If \code{TRUE}, generates indicator-specific plots (time-series,
violin plots, maps, etc.).}

\item{...}{Additional arguments passed to internal functions.}
}
\value{
A data frame (tibble) with one row per area and indicator, containing:
\itemize{
\item \code{areaID}, \code{indicator}, \code{score}, \code{status},
\code{trend}, \code{units}, \code{type}, \code{rationale}
\item Plain-language \code{status_statement} and \code{trend_statement}
\item If \code{plot = TRUE}, a list-column of ggplot objects
}
}
\description{
This function standardizes, scores, summarizes, and generates plots for
ecological or environmental indicator datasets for use in monitoring,
reporting, and visualization. It supports different data types (tabular,
spatial, raster) and scoring methods (e.g., desired trend, representation,
control-site comparison).
}
\details{
The function performs the following steps:
\enumerate{
\item Validates inputs and joins data with \code{areas}.
\item Nests data by area and indicator.
\item Applies the specified \code{scoring} method.
\item Generates plain-language narrative statements about status and trend.
\item Optionally produces plots for visualization.
}
}
\examples{
\dontrun{
# Example with a data frame of biomass values
results <- process_indicator(
  data = biomass_df,
  areas = mpa_polygons,
  areaID = "site_id",
  indicator = "Biomass",
  rationale = "Biomass reflects ecosystem productivity",
  units = "kg/ha",
  type = "biological",
  scoring = "desired trend",
  direction = "positive",
  climate_expectation = "increase",
  plot = TRUE,
  objectives=c("Minimize aquaculture escapes", "Conserve 30\% of Land, Waters, and Seas")
)
}
}
